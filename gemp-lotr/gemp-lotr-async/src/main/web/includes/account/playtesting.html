<div class="article">
	<p>The <a href="https://lotrtcgpc.net">Player's Council</a> is dedicated to breathing life into this old game, both through errata to old cards and the introduction of brand new ones. Although we spend weeks or months debating the finer points of card balancing, there is no argument as powerful as the result of dedicated playtesting.</p>
	
	<p>Opt-in or opt-out to PLAYTEST formats using the buttons below.  This will enable the PLAYTEST-PC-Fellowship, PLAYTEST-PC-Movie, and PLAYTEST-PC-Expanded formats and corresponding decklist filters.</p>
	
	<button id="btnEnableTesting" onclick="hall.AddTesterFlag()">Enable Playtesting</button>
	<button id="btnDisableTesting" onclick="hall.RemoveTesterFlag()">Disable Playtesting</button>
	
	<p>After playing playtest games, you can leave feedback on bugs or balance <a href="https://docs.google.com/forms/d/e/1FAIpQLSdKJrCmjoyUqDTusDcpNoWAmvkGdzQqTxWGpdNIFX9biCee-A/viewform?usp=pp_url">using this form here</a>.</p>
	
	<p>If you have any questions or would like to discuss our card design decisions in-depth, then feel free to join us <a href="https://lotrtcgpc.net/discord">on the PC Discord server</a>.</p>
	
	<br>
	
	Last 100 Playtest Replays:
	
	<div id="replays">
		<table id="tblReplays" class="gameHistory">
			<thead>
				<tr>
					<th>Format</th>
					<th>Winner</th>
					<th>Loser</th>
					<th>Win Reason</th>
					<th>Loss Reason</th>
					<th>Winner Replay</th>
					<th>Loser Replay</th>
					<th>Started</th>
					<th>Ended</th>
				</tr>
			</thead>
			
		</table>
	</div>
	
</div>

<script>

function drawTable(json) {

	const template = {"<>":"tr","html": [
		{"<>":"td","html":"${format_name}"},
		{"<>":"td","html":"${winner}"},
		{"<>":"td","html":"${loser}"},
		{"<>":"td","html":"${win_reason}"},
		{"<>":"td","html":"${lose_reason}"},
		{"<>":"td","html":function() {
			return "<a href=\"" + window.location.origin + "/gemp-lotr/game.html?replayId=" + this.winner + "$" + this.win_recording_id + "\">Replay link</a>"; 
			}},
		{"<>":"td","html":function() {
			return "<a href=\"" + window.location.origin + "/gemp-lotr/game.html?replayId=" + this.loser + "$" + this.lose_recording_id + "\">Replay link</a>"; 
			}},
		{"<>":"td","html":function() { return new Date(this.start_date).toLocaleString('sv'); }},
		{"<>":"td","html":function() { return new Date(this.end_date).toLocaleString('sv'); }},
	]};
	
		   
	$("#tblReplays").json2html(json,template);
}


hall.comm.getRecentReplays("PLAYTEST", 100, function(json){drawTable(json);}, hall.hallErrorMap());
drawTable(); 

</script>

